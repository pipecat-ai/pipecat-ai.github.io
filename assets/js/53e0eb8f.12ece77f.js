"use strict";(self.webpackChunkpipecat_docs=self.webpackChunkpipecat_docs||[]).push([[767],{5271:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var n=t(4848),r=t(8453);const s={},a="Deploying Your Bot",i={id:"deploying-your-bot",title:"Deploying Your Bot",description:"Once you have a working bot that you can run with a command like python bot.py, you'll need to solve two problems to make it available to the world:",source:"@site/docs/deploying-your-bot.md",sourceDirName:".",slug:"/deploying-your-bot",permalink:"/docs/deploying-your-bot",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/deploying-your-bot.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"WebsocketTransport",permalink:"/docs/api-reference/transports/websocket-transport"},next:{title:"Supported Services",permalink:"/docs/supported-services"}},l={},c=[{value:"Step 1: A bot server",id:"step-1-a-bot-server",level:2},{value:"Step 2: A host somewhere",id:"step-2-a-host-somewhere",level:2}];function h(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h1,{id:"deploying-your-bot",children:"Deploying Your Bot"}),"\n",(0,n.jsxs)(o.p,{children:["Once you have a working bot that you can run with a command like ",(0,n.jsx)(o.code,{children:"python bot.py"}),", you'll need to solve two problems to make it available to the world:"]}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsx)(o.li,{children:"Figure out how to run it when people want to talk to it."}),"\n",(0,n.jsx)(o.li,{children:"Run it somewhere other than your own computer."}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"step-1-a-bot-server",children:"Step 1: A bot server"}),"\n",(0,n.jsxs)(o.p,{children:["You're almost certainly going to need a web server to run your bots. The examples include a ",(0,n.jsx)(o.a,{href:"https://github.com/pipecat-ai/pipecat/tree/main/examples/blob/main/chatbot/server.py",children:"simple web server"})," that shows how you might do this."]}),"\n",(0,n.jsxs)(o.p,{children:["The ",(0,n.jsx)(o.code,{children:"chatbot"})," example is a simple bot that uses ",(0,n.jsx)(o.code,{children:"DailyTransport"})," and ",(0,n.jsx)(o.a,{href:"https://www.daily.co/products/prebuilt-video-call-app/",children:"Daily Prebuilt"})," as the front-end. If you run ",(0,n.jsx)(o.code,{children:"python server.py"})," and then open ",(0,n.jsx)(o.code,{children:"http://localhost:7860"})," in a web browser, the server will:"]}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsx)(o.li,{children:"Create a new, randomly-named Daily room and access token using Daily's API"}),"\n",(0,n.jsxs)(o.li,{children:["Run ",(0,n.jsx)(o.code,{children:"bot.py"})," in a subprocess and connect the bot to that new room"]}),"\n",(0,n.jsx)(o.li,{children:"Return the Daily Room URL as a redirect, so your browser joins that same room"}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:["The bot subprocess exits when you leave the room, or after a predetermined amount of time (",(0,n.jsx)(o.code,{children:"duration_minutes"})," in DailyTransport)."]}),"\n",(0,n.jsxs)(o.p,{children:["The ",(0,n.jsx)(o.a,{href:"https://github.com/pipecat-ai/pipecat/tree/main/examples/tree/main/storytelling-chatbot",children:"Storytelling Chatbot"})," example has a good example of a more complex webserver. That example has a custom frontend. The server is serving the frontend, as well as a few API endpoints for creating Daily rooms, starting bots, and monitoring overall performance."]}),"\n",(0,n.jsx)(o.h2,{id:"step-2-a-host-somewhere",children:"Step 2: A host somewhere"}),"\n",(0,n.jsx)(o.p,{children:"The easiest way to package and deploy your app is Docker. Depending on the specific AI services you're using, you may have some heavy and/or platform-specific dependencies that will need to be installed alongside your app. The examples include a simple Dockerfile that you can use as a starting point."}),"\n",(0,n.jsx)(o.p,{children:"As far as hosting platforms go, you'll need to be mindful of the power of your VM compared to what you're trying to do in your bot. If you're mostly using third-party services through their APIs, you can definitely run on small, CPU-only VMs, and you can probably run many concurrent bots on a single server before needing to worry about horizontal scaling. But if you're trying to run local AI services, you'll need to pick instances that have access to some GPU power."}),"\n",(0,n.jsxs)(o.p,{children:["This is where ",(0,n.jsx)(o.a,{href:"https://fly.io",children:"fly.io"})," presents an interesting option with their new GPU instances. There's an ",(0,n.jsx)(o.a,{href:"https://github.com/daily-co/daily-ai-sdk/blob/ed2fd0e7350e41ee89d0ee389c97eb36b3182532/examples/server/fly-server.py",children:"example server"})," hidden in the framework repo that uses the Fly API to spin up bot instances on separate machines instead of using subprocesses on the same machine. That means you can run a single, small webserver, but spin up new GPU instances on demand for running bots when users want to use them."]})]})}function p(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453:(e,o,t)=>{t.d(o,{R:()=>a,x:()=>i});var n=t(6540);const r={},s=n.createContext(r);function a(e){const o=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(s.Provider,{value:o},e.children)}}}]);